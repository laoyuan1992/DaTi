require=function t(e,n,i){function o(c,a){if(!n[c]){if(!e[c]){var r="function"==typeof require&&require;if(!a&&r)return r(c,!0);if(s)return s(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){var n=e[c][1][t];return o(n||t)},l,l.exports,t,e,n,i)}return n[c].exports}for(var s="function"==typeof require&&require,c=0;c<i.length;c++)o(i[c]);return o}({Bind:[function(t,e,n){"use strict";cc._RF.push(e,"1042eBG2T1P2qZr5g5V7EUS","Bind");var i=t("Util"),o=t("HomeUtil");cc.Class({extends:cc.Component,properties:{mobile:cc.EditBox,msgCode:cc.EditBox,password:cc.EditBox,uName:cc.EditBox,bankName:cc.Label,bankCard:cc.EditBox,idCard:cc.EditBox,alterBoxLayer:cc.Node,bankNameNode:cc.Node,bindBox:cc.Node,bankListBox:cc.Node,backListBoxLayer:cc.Node,bankList:{default:[],type:cc.Node},msgCodeLabel:cc.Label},onLoad:function(){this.bindDatas={bankName:"",cardNo:"",channel:"",code:"",field1:"1",field2:"2",field3:"3",field4:"4",field5:"5 ",idCard:"",imgcode:"",mobile:"",name:"",pwd:"",superiorId:cc.sys.localStorage.getItem("sid")||"0"},this.selBank(),this.canGetVCode=!0},showLittleTip:function(t){i.showTips(t)},openBindBox:function(){this.alterBoxLayer.active=!0,this.bindBox.active=!0},closeBindBox:function(){this.alterBoxLayer.active=!1,this.bindBox.active=!1},getMsgCode:function(){var t=this;if(this.canGetVCode){var e=i.trim(this.mobile.string);if(e)if(i.verMobileReg(e)){var n={captchaCode:" ",captchaValue:" ",mobile:e,type:" "};o.getMsgCode(n).then(function(e){if(e.success){i.showTips("验证码发送成功");var n=90;t.msgCodeLabel.string=n+"s",t.canGetVCode=!1;var o=setInterval(function(){n--,t.msgCodeLabel.string=n+"s",n<=0&&(clearInterval(o),t.canGetVCode=!0,n=90,t.msgCodeLabel.string="重新获取")},1e3)}else i.showTips(e.msg)})}else this.showLittleTip("手机号格式有误");else this.showLittleTip("请输入手机号")}},openSelBankBox:function(){this.backListBoxLayer.active=!0,this.bankListBox.active=!0},closeSelBankBox:function(){this.backListBoxLayer.active=!1,this.bankListBox.active=!1},selBank:function(){var t=this;[].forEach.call(this.bankList,function(e){e.on(cc.Node.EventType.TOUCH_END,function(n){var i=e.getChildByName("bankName").getComponent(cc.Label).string;t.closeSelBankBox(),t.bankNameNode.setColor(cc.color(0,0,0,255)),t.bankName.string=i})})},getBindDatas:function(){this.bindDatas.mobile=i.trim(this.mobile.string),this.bindDatas.code=i.trim(this.msgCode.string),this.bindDatas.pwd=i.trim(this.password.string),this.bindDatas.name=i.trim(this.uName.string),this.bindDatas.bankName=i.trim(this.bankName.string),this.bindDatas.cardNo=i.trim(this.bankCard.string),this.bindDatas.idCard=i.trim(this.idCard.string)},submitBindDatas:function(){var t=this;this.getBindDatas();var e=this.bindDatas.mobile,n=this.bindDatas.code,s=this.bindDatas.pwd,c=this.bindDatas.name,a=this.bindDatas.bankName,r=this.bindDatas.cardNo,u=this.bindDatas.idCard;e?i.verMobileReg(e)?n?s?c?!i.verUserName(c)||c.length<=1||c.length>5?this.showLittleTip("你输入的姓名不合法"):a?r?i.verBankCard(r)?u?i.verIdCard(u)?o.subBindData(this.bindDatas).then(function(e){if(e.success){var n=e.obj;cc.log(n),i.showTips("绑定成功"),t.closeBindBox(),t.getComponent("Home").renderPage()}else i.showTips(e.msg)}):this.showLittleTip("请输入正确格式身份证号"):this.showLittleTip("请输入身份证号"):this.showLittleTip("银行卡号无效"):this.showLittleTip("请输入银行卡号"):this.showLittleTip("请输入银行名称"):this.showLittleTip("请输入您的姓名"):this.showLittleTip("请输入密码"):this.showLittleTip("请输入短信验证码"):this.showLittleTip("手机号格式有误"):this.showLittleTip("请输入手机号")},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],BtnFeed:[function(t,e,n){"use strict";cc._RF.push(e,"9ffb59Ja4pEI7jWW+XzXyVv","BtnFeed"),cc.Class({extends:cc.Component,properties:{clickAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){var e=cc.scaleTo(.05,.9,.9);this.node.runAction(e)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=cc.scaleTo(.05,1,1);this.clickAudio&&Global.openAudio&&cc.audioEngine.playEffect(this.clickAudio,!1),this.node.runAction(e)},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){var e=cc.scaleTo(.05,1,1);this.node.runAction(e)},this)}}),cc._RF.pop()},{}],Capture:[function(t,e,n){"use strict";cc._RF.push(e,"e6246zprlZGR5+AohhGjSbb","Capture"),cc.Class({extends:cc.Component,properties:{captureAll:!0},onLoad:function(){var t=this;setTimeout(function(){t.capture(),t.captureAndShow()},1e3)},capture:function(){if(!cc.sys.isNative){var t=this.captureAll?cc.director.getRunningScene():this.node._sgNode,e=Math.floor(cc.winSize.width),n=Math.floor(cc.winSize.height),i=new cc.RenderTexture(e,n);i.begin(),t.visit(),i.end();var o=document.createElement("canvas"),s=o.getContext("2d");if(o.width=e,o.height=n,cc._renderType===cc.game.RENDER_TYPE_CANVAS){var c=(r=i.getSprite().getTexture()).getHtmlElementObj();s.drawImage(c,0,0)}else if(cc._renderType===cc.game.RENDER_TYPE_WEBGL){var a=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,a);var r=i.getSprite().getTexture().getHtmlElementObj();gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,r,0);var u=new Uint8Array(e*n*4);gl.readPixels(0,0,e,n,gl.RGBA,gl.UNSIGNED_BYTE,u),gl.bindFramebuffer(gl.FRAMEBUFFER,null);for(var l=4*e,d=0;d<n;d++){var h=n-1-d,p=new Uint8ClampedArray(u.buffer,h*e*4,l),g=new ImageData(p,e,1);s.putImageData(g,0,d)}}var f=o.toDataURL("image/jpeg"),m=document.createElement("img");return m.src=f,m}},captureAndShow:function(){var t=this.capture();t.style.position="absolute",t.style.display="block",t.style.left=t.style.top="0px",t.zIndex=100,document.body.appendChild(t)}}),cc._RF.pop()},{}],Cash:[function(t,e,n){"use strict";cc._RF.push(e,"05190EUsMxC16lFsnb4Sx6/","Cash");var i=t("Util"),o=t("HomeUtil");cc.Class({extends:cc.Component,properties:{canUseMonet:cc.Label,cashNum:cc.EditBox},onLoad:function(){i.hideLoading(),this.cashDatas={amt:""},this.initPage()},initPage:function(){var t=this;o.getIndexData().then(function(e){if(e.success){var n=e.obj;t.canUseMonet.string=n.gold}else i.showTips(e.msg)})},allCash:function(){var t=this.canUseMonet.string;o.getMarketToken().then(function(e){if(e.success){var n=e.obj.tokenType+" "+e.obj.accessToken;n=encodeURI(n),cc.sys.openURL("http://www.senchen.vip/html/gold-cash.html?link=gold-cash&token="+n+"&gold="+t)}else i.showTips(e.msg)})},backHome:function(){cc.director.loadScene("Home",function(){})},toCash:function(){var t=i.trim(this.cashNum.string);this.cashDatas.amt=t,t?isNaN(t)?i.showTips("提现金额需为数字"):t<=0?i.showTips("提现金额需大于零"):parseInt(this.canUseMonet.string)<parseInt(this.cashNum.string)?i.showTips("提现金额不能大于总金额"):o.getMarketToken().then(function(e){if(e.success){var n=e.obj.tokenType+" "+e.obj.accessToken;n=encodeURI(n),cc.sys.openURL("http://www.senchen.vip/html/gold-cash.html?link=gold-cash&token="+n+"&gold="+t)}else i.showTips(e.msg)}):i.showTips("请输入提现数额")},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],CloseWindow:[function(t,e,n){"use strict";cc._RF.push(e,"e0a1c02nDVHUqEfeJGo4OWK","CloseWindow"),cc.Class({extends:cc.Component,properties:{alertBox:{default:null,type:cc.Node},alertLayer:{default:null,type:cc.Prefab}},onLoad:function(){},close:function(t,e){"1"==e?(Global.layer&&Global.layer.name||(Global.layer=cc.instantiate(this.alertLayer)),Global.layer.active=!1):"2"==e?(Global.conLayer&&Global.conLayer.name||(Global.conLayer=cc.instantiate(this.alertLayer)),Global.conLayer.active=!1):"3"==e?(Global.layerRecharge&&Global.layerRecharge.name||(Global.layerRecharge=cc.instantiate(this.alertLayer)),Global.layerRecharge.active=!1):"4"==e&&(Global.webLayer&&Global.webLayer.name||(Global.webLayer=cc.instantiate(this.alertLayer)),Global.webLayer.active=!1);var n=cc.scaleTo(.1,1.1,1.1),i=cc.scaleTo(.1,0,0),o=(cc.fadeTo(.1,0),cc.callFunc(function(){this.alertBox.active=!1},this)),s=cc.sequence(n,i,o);this.alertBox.runAction(s)}}),cc._RF.pop()},{}],ConfirmDia:[function(t,e,n){"use strict";cc._RF.push(e,"7a9332sRhNG1pwJuJxROSa6","ConfirmDia"),cc.Class({extends:cc.Component,properties:{msgBox:{default:null,type:cc.Label},confirm:{default:null,type:cc.Node},cancel:{default:null,type:cc.Node},confirmDia:{default:null,type:cc.Node}},onLoad:function(){},setBoxFun:function(t,e,n){this.msgBox.string=t,this.confirm.on(cc.Node.EventType.TOUCH_END,e,this),this.cancel.on(cc.Node.EventType.TOUCH_END,n,this)},showThis:function(){this.confirmDia.active=!0;var t=cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1));this.confirmDia.runAction(t)}}),cc._RF.pop()},{}],Done:[function(t,e,n){"use strict";cc._RF.push(e,"b1f59erHEJCbp0KlW0DqkLI","Done");var i=t("Util"),o=t("HomeUtil");cc.Class({extends:cc.Component,properties:{score:cc.Label,money:cc.Label,resultIcon:cc.Sprite,iconNode:cc.Node,resultPic:[cc.SpriteFrame]},onLoad:function(){i.hideLoading(),this.result={status:0,score:0,money:0},this.initPage()},initPage:function(){var t=i.getPerNode("PerNode").getComponent("PerNode").datas.quesResult;this.result.status=t.totalPoint>0?1:0,this.result.score=t.totalPoint,this.result.money=t.gold,this.score.string="获得积分："+this.result.score,this.money.string=this.result.money+"金币",this.resultIcon.spriteFrame=this.resultPic[this.result.status],this.result.status&&this.iconNode.getComponent(cc.Animation).play("quesWin")},backHome:function(){cc.director.loadScene("Home")},continuePlay:function(){o.getIndexData().then(function(t){if(t.success){if(t.obj.singleCnt<=0)return i.showConDia("您的答题次数已用完,点击确定去获取更多答题机会.",function(){cc.director.loadScene("Invite")},function(){}),void i.showTips("您的答题次数已用完");cc.director.loadScene("Game",function(){})}else i.showTips(t.msg)})},toCash:function(){o.getIndexData().then(function(t){if(t.success){var e=t.obj,n="0"!=e.bindBank,o="0"!=e.finishNewbieTask;if(!n||!o)return void i.showConDia("您尚有未完成的任务,请点击确定去完成剩余任务.",function(){Global.isFormCash=!0,cc.director.loadScene("Home")},function(){});cc.director.loadScene("Cash",function(){})}else i.showTips(t.msg)})},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],GameUtil:[function(t,e,n){"use strict";cc._RF.push(e,"b5bc4+giFtNQ4ZaiWHsAkLm","GameUtil");var i=t("Net"),o=function(){var t={};t.startQues=function(t){return new Promise(function(e,n){i.get("/question/start",1,t,function(t){e(t)},function(t){n(!1)})})};return t.sendQuesOption=function(t){return new Promise(function(e,n){i.post("/question/qa",1,t,function(t){e(t)},function(t){n(!1)})})},t.changBtnStatus=function(t,e,n,i){var o=null,s=null;1==e?(o=n[0],t.getChildByName("t_icon").active=!1):2==e?(o=n[1],t.getChildByName("t_icon").active=!1):3==e?(o=n[1],t.getChildByName("t_icon").active=!0,s=i[0]):4==e&&(o=n[2],t.getChildByName("t_icon").active=!0,s=i[1]),t.getComponent(cc.Sprite).spriteFrame=o,t.getChildByName("t_icon").getComponent(cc.Sprite).spriteFrame=s},t.getBtnByAws=function(t,e){for(var n=null,i=0;i<4;i++)if(t==e[i].getChildByName("optionCon").getComponent(cc.Label).string){n=e[i];break}return n||e[0]},t.actionTimeOut=function(t,e){e=e||2e3,setTimeout(function(){t()},e)},t.AddScoreAni=function(t,e,n,i){(i=i||!1)&&(t.fontSize=30);var o=setInterval(function(){++e>=n&&(e=n,clearInterval(o),t.fontSize=20),t.string=e},5)},t.AddScoreProAni=function(t,e,n){var i=setInterval(function(){++e>=n&&(e=n,clearInterval(i)),t.progress=e/100},5)},t}();e.exports=o,cc._RF.pop()},{Net:"Net"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"9fd5dcfvGtOr5vh4v2HFWjS","Game");var i=t("GameUtil"),o=t("Util");cc.Class({extends:cc.Component,properties:{pPage:cc.Node,pUserPic:cc.Sprite,pUserName:cc.Label,pUserCity:cc.Label,pCountNode:cc.Node,pCountTime:cc.Label,userHeadPic:cc.Sprite,userName:cc.Label,quesNo:cc.Label,countDownBar:cc.ProgressBar,countDownNum:cc.Label,pointsNode:cc.Node,pointsText:cc.RichText,score:cc.Label,scoreProgress:cc.ProgressBar,quesCon:cc.Label,quesConNode:cc.Node,quesOptions:{default:[],type:cc.Node},btnStatusBg:{default:[],type:cc.SpriteFrame},btnStatusIcon:{default:[],type:cc.SpriteFrame},quesBox:cc.Node,quesNoBox:cc.Node},onLoad:function(){o.hideLoading(),this.userId="10086",this.inter_val=null,this.timer=10,this.totalScore=100,this.quesNumber=1,this.quesID=null,this.quesTitle="",this.userSeldAws="",this.ctnTureNum=0,this.isLastQues=!1,this.user={isBegin:!1,isAnsing:!1,isEnd:!1,canSel:!1,isTimeOut:!1},this.createDatas(),this.preCountDown(),this.pUserName.string=this.userName.string=o.getPerNode("PerNode").getComponent("PerNode").datas.userInfo.userName},createDatas:function(){this.virDatas={titile:"初始化中...",options:["初始化中...","初始化中...","初始化中...","初始化中..."],preStatus:1,preTrueAws:"空",preScore:0,allScore:0,quesNo:1}},initPage:function(){cc._initDebugSetting(cc.DebugMode.INFO),cc.director.setDisplayStats(!1),cc.view.resizeWithBrowserSize(!0),this.startCountDown(),this.selOption()},startCountDown:function(){var t=this;this.fillQues(),this.user.isBegin=!0,this.user.canSel=!0,this.user.isTimeOut=!1,this.timer=10;var e=1;this.countDownNum.string=this.timer,this.countDownBar.progress=e,this.inter_val=setInterval(function(){if(e-=.1,t.timer--,t.countDownNum.string=t.timer,t.countDownBar.progress=e,t.timer<=0){clearInterval(t.inter_val),t.user.isTimeOut=!0,t.user.canSel=!1;var n={title:t.quesCon.string,answer:""};t.sendOption(n)}},1e3)},fillQues:function(){this.isLastQues=this.virDatas.quesNo>=10,this.quesCon.string=this.virDatas.titile;for(var t=0;t<4;t++)i.changBtnStatus(this.quesOptions[t],1,this.btnStatusBg,this.btnStatusIcon),this.quesOptions[t].getChildByName("optionCon").getComponent(cc.Label).string=this.virDatas.options[t];this.quesNo.string="第"+this.virDatas.quesNo+"题"},resetQues:function(){this.quesCon.string="";for(var t=0;t<4;t++)i.changBtnStatus(this.quesOptions[t],1,this.btnStatusBg,this.btnStatusIcon),this.quesOptions[t].getChildByName("optionCon").getComponent(cc.Label).string=""},sendOption:function(t){var e=this;i.sendQuesOption(t).then(function(t){if(t.success){var n=t.obj;e.virDatas.titile=n.question.title,e.quesTitle=n.question.title;for(var i=0;i<n.question.options.length;i++)e.virDatas.options[i]=n.question.options[i];e.virDatas.quesNo=n.seq,e.virDatas.preTrueAws=n.answer,1==n.result?e.virDatas.preStatus=1:2==n.result?e.virDatas.preStatus=0:3==n.result&&(e.virDatas.preStatus=2),e.virDatas.preScore=n.point,e.virDatas.allScore=n.totalPoint,e.isLastQues&&(o.getPerNode("PerNode").getComponent("PerNode").datas.quesResult={gold:n.gold,totalPoint:n.totalPoint}),e.quesAwsResolve(e.virDatas)}else o.showTips(t.msg)})},quesAwsResolve:function(t){var e=this,n=i.getBtnByAws(t.preTrueAws,this.quesOptions);if(0==t.preStatus){this.ctnTureNum=0;var s=i.getBtnByAws(this.userSeldAws,this.quesOptions);i.changBtnStatus(n,3,this.btnStatusBg,this.btnStatusIcon),i.changBtnStatus(s,4,this.btnStatusBg,this.btnStatusIcon)}else 1==t.preStatus?(this.ctnTureNum++,this.pointsText.string="<color=#ffffff><outline color=#fedd00 width=3>X"+this.ctnTureNum+"</outline></c>",this.pointsNode.getComponent(cc.Animation).play("points"),i.changBtnStatus(n,3,this.btnStatusBg,this.btnStatusIcon)):2==t.preStatus&&(this.ctnTureNum=0,i.changBtnStatus(n,3,this.btnStatusBg,this.btnStatusIcon));var c=parseInt(this.score.string);i.AddScoreAni(this.score,c,this.virDatas.allScore,1),i.AddScoreProAni(this.scoreProgress,c,this.virDatas.allScore),clearInterval(this.inter_val),this.isLastQues?setTimeout(function(){o.showLoading(),cc.director.loadScene("Done")},2e3):(setTimeout(function(){e.quesBox.getComponent(cc.Animation).play("quesHide"),e.quesNoBox.getComponent(cc.Animation).play("quesNoHide")},2e3),setTimeout(function(){e.quesConNode.active=!1,e.fillQues()},2500),setTimeout(function(){e.quesBox.getComponent(cc.Animation).play("quesShow"),e.quesNoBox.getComponent(cc.Animation).play("quesNoShow"),e.quesConNode.active=!0},2800),setTimeout(function(){e.startCountDown()},3e3))},selOption:function(){var t=this;[].forEach.call(this.quesOptions,function(e){e.on(cc.Node.EventType.TOUCH_END,function(n){if(t.user.canSel){i.changBtnStatus(e,3,t.btnStatusBg,t.btnStatusIcon),t.userSeldAws=e.getChildByName("optionCon").getComponent(cc.Label).string,t.user.canSel=!1;var o={userId:t.userId,title:t.quesCon.string,answer:t.userSeldAws};t.sendOption(o)}})})},startQues:function(){var t=this;i.startQues().then(function(e){if(e.success){var n=e.obj;t.virDatas.titile=n.question.title,t.quesTitle=n.question.title;for(var i=0;i<n.question.options.length;i++)t.virDatas.options[i]=n.question.options[i];t.virDatas.quesNo=n.seq,t.initPage(),t.pPage.active=!1}else o.showTips(e.msg)})},preCountDown:function(){var t=this;this.pCountNode.getComponent(cc.Animation).play("preCount");var e=3;this.pCountTime.string=e,this.pCountDown=setInterval(function(){e--,t.pCountTime.string=e,e<=0&&(clearInterval(t.pCountDown),setTimeout(function(){t.startQues()},200))},1e3)},backHome:function(){o.showConDia("您正在答题,退出将会失去本次答题机会,确定退出吗?",function(){cc.director.loadScene("Home")},function(){})},onDestroy:function(){this.inter_val&&clearInterval(this.inter_val),this.pCountDown&&clearInterval(this.pCountDown)}}),cc._RF.pop()},{GameUtil:"GameUtil",Util:"Util"}],Global:[function(t,e,n){"use strict";cc._RF.push(e,"784beRZP+NNfYA862x0rqiD","Global"),window.Global={version:1,promotCode:0,user:{isVistor:!1},isFirstCom:!0,isFirstFromGame:!0,isFormCash:!1,wxShare:{title:"Z家园答题赢金币",desc:"答题赢金币,绑定可提现",link:cc.sys.isNative?"http://www.zjiayuan.com":window.location.origin+"sid=0",imgUrl:cc.sys.isNative?"http://www.zjiayuan.com":window.location.origin+"/res/raw-assets/res/textures/global/share_logo.png"}},cc._RF.pop()},{}],Guide:[function(t,e,n){"use strict";cc._RF.push(e,"dcfbfYFxUxFBJIXZ4BlFjac","Guide");var i=t("HomeUtil"),o=t("Util");cc.Class({extends:cc.Component,properties:{persistNode:cc.Node},onLoad:function(){cc.game.addPersistRootNode(this.persistNode),this.setSid(),this.resolveFromZjiayuan()},setSid:function(){if(!cc.sys.isNative){var t=o.getQueryString("sid");t&&cc.sys.localStorage.setItem("sid",t)}},resolveFromZjiayuan:function(){var t=this;if(!cc.sys.isNative){var e=o.getQueryString("isFromGame"),n=decodeURI(o.getQueryString("token")).split(" ")[1];e&&n&&Global.isFirstFromGame?(Global.isFirstFromGame=!1,Global.isFirstCom=!1,i.getQaToken({token:n}).then(function(e){if(e.success){var n=e.obj.tokenType+" "+e.obj.accessToken;cc.sys.localStorage.setItem("token",n),t.toGamePage()}else o.showTips(e.msg)})):this.isAuth()}},isAuth:function(){cc.sys.localStorage.getItem("token")&&Global.isFirstCom&&(Global.isFirstCom=!1,Global.isFirstFromGame=!1,o.showLoading(),cc.director.loadScene("Home",function(){}))},toGamePage:function(){cc.sys.localStorage.getItem("token")?i.getIndexData().then(function(t){t.success?(o.getPerNode("PerNode").getComponent("PerNode").datas.userInfo=t.obj,t.obj.singleCnt>=1?(o.showLoading(),cc.director.loadScene("Game",function(){})):(o.showLoading(),cc.director.loadScene("Home",function(){}))):o.showTips(t.msg)}):i.visitorToken(null).then(function(t){if(t.success){var e=t.obj,n=e.tokenType+" "+e.accessToken;cc.sys.localStorage.setItem("token",n),i.getIndexData().then(function(t){t.success?(o.getPerNode("PerNode").getComponent("PerNode").datas.userInfo=t.obj,t.obj.singleCnt>=1?(o.showLoading(),cc.director.loadScene("Game",function(){})):(o.showLoading(),cc.director.loadScene("Home",function(){}))):o.showTips(t.msg)})}else o.showTips(t.msg)})},loadPlayer:function(){},toLoginPage:function(){o.showLoading(),cc.director.loadScene("LogIn",function(){})},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],HomeUtil:[function(t,e,n){"use strict";cc._RF.push(e,"419d8KRDnZGZo2R+5QLgw/i","HomeUtil");t("Util");var i=t("Net"),o=function(){var t={};t.getQaToken=function(t){return new Promise(function(e,n){i.get("/login/getQaToken",!1,t,function(t){e(t)},function(t){n(!1)})})};t.visitorToken=function(t){return t=t||null,new Promise(function(e,n){i.get("/login/visitorlogin",!1,t,function(t){e(t)},function(t){n(!1)})})};t.toLogIn=function(t){return new Promise(function(e,n){i.post("/login/userlogin",1,t,function(t){e(t)},function(t){n(!1)})})};t.getIndexData=function(){return new Promise(function(t,e){i.get("/question/index",1,null,function(e){t(e)},function(t){e(!1)})})};t.getMsgCode=function(t){return new Promise(function(e,n){i.post("/sms/sendQaBindSms",!1,t,function(t){e(t)},function(t){n(!1)})})};t.subBindData=function(t){return new Promise(function(e,n){i.post("/user/bind",1,t,function(t){e(t)},function(t){n(!1)})})};t.getMarketToken=function(){return new Promise(function(t,e){i.get("/user/getMarketToken",1,null,function(e){t(e)},function(t){e(!1)})})};return t.testTask=function(){return new Promise(function(t,e){i.get("/user/testtask",1,null,function(e){t(e)},function(t){e(!1)})})},t}();e.exports=o,cc._RF.pop()},{Net:"Net",Util:"Util"}],Home:[function(t,e,n){"use strict";cc._RF.push(e,"77a6f9RF/RP6L8Ad3y18MwS","Home");var i=t("Util"),o=t("HomeUtil");cc.Class({extends:cc.Component,properties:{alterBoxLayer:cc.Node,prtCode:cc.Node,chanceNum:cc.Label,userHeadImg:cc.Sprite,userName:cc.Label,accountMoney:cc.Label,smallChanceNum:cc.Label,smallEwmNode:cc.Node,bigEwmNode:cc.Node,taskBox:cc.Node,taskBind:cc.Label,taskBindNode:cc.Node,taskNew:cc.Label,taskNewNode:cc.Node},onLoad:function(){i.hideLoading(),cc.director.setDisplayStats(!1),cc.view.resizeWithBrowserSize(!0),this.promoteLink=cc.sys.isNative?"http://www.zjiayuan.com":window.location.origin,this.isLoged=!1,this.isBind=!1,this.isNewTask=!1,this.isCerfa=!1,this.renderPage()},start:function(){Global.isFormCash&&(Global.isFormCash=!1,this.showTaskBox())},showTips:function(){i.showTips("暂未开放,敬请期待!")},toGamePage:function(){if(i.showLoading(),parseInt(this.chanceNum.string)<=0)return i.showConDia("您的答题次数已用完,请点击屏幕上的我的推广码截屏发送给好友,或者点击屏幕上的获取更多和邀请好友按钮.",function(){},function(){}),void i.hideLoading();cc.director.loadScene("Game")},backGuidePage:function(){cc.director.loadScene("Guide",function(){})},renderPage:function(){var t=this;console.log(),o.getIndexData().then(function(e){if(e.success){var n=e.obj;t.isLoged=!0,t.isBind="0"!=n.bindBank,t.isNewTask="0"!=n.finishNewbieTask,t.isCerfa="0"!=n.certification,t.chanceNum.string=n.singleCnt,t.smallChanceNum.string=n.singleCnt,t.accountMoney.string=n.gold,t.userName.string=n.userName,i.getPerNode("PerNode").getComponent("PerNode").datas.userInfo=n,t.promoteLink=cc.sys.isNative?"http://www.zjiayuan.com":window.location.origin+"?sid="+n.playerId,Global.wxShare.link=t.promoteLink,t.isBind&&t.createSmallQCode()}else i.showTips(e.msg)})},createSmallQCode:function(){var t=new QRCode(-1,QRErrorCorrectLevel.H);t.addData(this.promoteLink),t.make();var e=this.smallEwmNode.getComponent(cc.Graphics);e.fillColor=cc.Color.BLACK;for(var n=this.smallEwmNode.width/t.getModuleCount(),i=this.smallEwmNode.height/t.getModuleCount(),o=0;o<t.getModuleCount();o++)for(var s=0;s<t.getModuleCount();s++){if(t.isDark(o,s)){var c=Math.ceil((s+1)*n)-Math.floor(s*n),a=Math.ceil((o+1)*n)-Math.floor(o*n);e.rect(Math.round(s*n),Math.round(o*i),c,a),e.fill()}c=Math.ceil((s+1)*n)-Math.floor(s*n)}},createBigQCode:function(){var t=new QRCode(-1,QRErrorCorrectLevel.H);t.addData(this.promoteLink),t.make();var e=this.bigEwmNode.getComponent(cc.Graphics);e.fillColor=cc.Color.BLACK;for(var n=this.bigEwmNode.width/t.getModuleCount(),i=this.bigEwmNode.height/t.getModuleCount(),o=0;o<t.getModuleCount();o++)for(var s=0;s<t.getModuleCount();s++){if(t.isDark(o,s)){var c=Math.ceil((s+1)*n)-Math.floor(s*n),a=Math.ceil((o+1)*n)-Math.floor(o*n);e.rect(Math.round(s*n),Math.round(o*i),c,a),e.fill()}c=Math.ceil((s+1)*n)-Math.floor(s*n)}},userClickHeadImg:function(){this.isLoged||cc.director.loadScene("LogIn",function(){})},userClickMoney:function(){this.isBind&&this.isNewTask||(this.isBind||(this.taskBind.string="绑定银行卡完善个人信息(0/1)",this.taskBindNode.setColor(cc.color(153,154,156,255))),this.isNewTask||(this.taskNew.string="完成游戏新手引导(0/1)",this.taskNewNode.setColor(cc.color(153,154,156,255))),this.isBind&&(this.taskBind.string="绑定银行卡完善个人信息(1/1)",this.taskBindNode.setColor(cc.color(46,65,132,255))),this.isNewTask&&(this.taskNew.string="完成游戏新手引导(1/1)",this.taskNewNode.setColor(cc.color(46,65,132,255))),this.showTaskBox()),this.isBind&&this.isNewTask&&(i.showLoading(),cc.director.loadScene("Cash",function(){}))},showTaskBox:function(){this.alterBoxLayer.active=!0,this.taskBox.active=!0},hideTaskBox:function(){this.alterBoxLayer.active=!1,this.taskBox.active=!1},openBindPage:function(){this.isBind?i.showTips("您已经绑定过身份"):(this.hideTaskBox(),this.getComponent("Bind").openBindBox())},toGameGuide:function(){if(this.isNewTask)i.showTips("您已经完成过游戏新手引导");else{if(!this.isBind)return void i.showTips("绑定银行卡完善身份信息后才可进行游戏新手引导");o.getMarketToken().then(function(t){if(t.success){var e=t.obj.tokenType+" "+t.obj.accessToken;e=encodeURI(e),cc.sys.openURL("http://www.zjiayuan.com?fromDati=1&token="+e)}else i.showTips(t.msg)})}},showBigPrtCode:function(){var t=this;this.isBind?(this.createBigQCode(),this.alterBoxLayer.active=!0,this.prtCode.active=!0):i.showConDia("绑定身份后才有推广码,点击确定去绑定身份.",function(){t.openBindPage()},function(){})},hideBigPrtCode:function(){this.alterBoxLayer.active=!1,this.prtCode.active=!1},toInvitePage:function(){i.showLoading(),cc.director.loadScene("Invite",function(){})},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],Invite:[function(t,e,n){"use strict";cc._RF.push(e,"d6c2fiKeKRE1rgj5KcfvnGK","Invite");var i=t("Util"),o=t("HomeUtil");cc.Class({extends:cc.Component,properties:{chanceCardNum:cc.Label,tipsNode:cc.Node},onLoad:function(){i.hideLoading(),this.initPage()},inviteFriends:function(){"WX"==i.checkEquipment()?this.showShareTip():i.showTips("请在微信中邀请好友,或在首页中点击二维码截屏后发送给好友")},hideShareTip:function(){this.tipsNode.active=!1},showShareTip:function(){this.tipsNode.active=!0},initPage:function(){var t=this;o.getIndexData().then(function(e){if(e.success){var n=e.obj.singleCnt;t.chanceCardNum.string="x "+n}else i.showTips(e.msg)})},backHome:function(){cc.director.loadScene("Home",function(){})},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],LittleTip:[function(t,e,n){"use strict";cc._RF.push(e,"442eaOyJkVFY5i9SIKrcXbQ","LittleTip"),cc.Class({extends:cc.Component,properties:{tipPrefab:{default:null,type:cc.Prefab},root:{default:null,type:cc.Node}},onLoad:function(){this.root=cc.find("Canvas")},setContent:function(t){Global.tips&&Global.tips.name||(Global.tips=cc.instantiate(this.tipPrefab)),Global.tips.setSiblingIndex(-1),Global.tips.stopAllActions();var e=cc.callFunc(function(){Global.tips.active=!1},this),n=cc.fadeTo(.2,255),i=cc.fadeTo(1.5,255),o=cc.fadeTo(3,0),s=cc.sequence(n,i,o,e);Global.tips.getChildByName("littleTip").getComponent(cc.Label).string=t,Global.tips.parent=this.root=cc.find("Canvas"),Global.tips.active=!0,Global.tips.runAction(s),Global.tips.on(cc.Node.EventType.TOUCH_END,function(){Global.tips.active=!1},this)}}),cc._RF.pop()},{}],LogIn:[function(t,e,n){"use strict";cc._RF.push(e,"ed640eOzmJMx5ODEJGejRwR","LogIn");var i=t("Util"),o=t("HomeUtil");cc.Class({extends:cc.Component,properties:{account:cc.EditBox,password:cc.EditBox},onLoad:function(){i.hideLoading(),this.loginDatas={clientId:"098f6bcd4621d373cade4e832627b4f6",extAttr:"",loginChannel:"",userName:"",password:""}},subLoginDatas:function(){var t=this,e=this.loginDatas.userName=i.trim(this.account.string),n=this.loginDatas.password=i.trim(this.password.string);e?i.verMobileReg(e)?n?o.toLogIn(this.loginDatas).then(function(e){if(e.success){var n=e.obj,o=n.tokenType+" "+n.accessToken;cc.sys.localStorage.setItem("token",o),i.showTips("登录成功"),t.toHomePage()}else i.showTips(e.msg)}):i.showTips("请输入登录密码"):i.showTips("用户名为手机号"):i.showTips("请输入用户名")},toHomePage:function(){i.showLoading(),cc.director.loadScene("Home",function(){})},backGuidePage:function(){cc.director.loadScene("Guide",function(){})},onDestroy:function(){}}),cc._RF.pop()},{HomeUtil:"HomeUtil",Util:"Util"}],Net:[function(t,e,n){"use strict";cc._RF.push(e,"d120aNJeMhCHJ4d/4np6B5A","Net");var i=t("Util"),o={api:{is89:!1,host:"",api:"/qa",marketHost:"",market:"/market"},timeOut:1e4,get:function(t,e,n,o,s){var c=this,a=c.api.host,r=new XMLHttpRequest;i.showLoading(),r.onreadystatechange=function(){if(c.authVerify(r.responseText),4==r.readyState&&r.status>=200&&r.status<400){i.hideLoading();var t=JSON.parse(r.responseText);cc.log(t),o&&o(t)}},t=c.api.api+t,r.open("GET",a+t+(n?this.toUrlPar(n):""),!0),cc.sys.isNative&&r.setRequestHeader("Accept-Encoding","gzip,deflate"),r.setRequestHeader("Content-Type","application/json;charset=utf-8"),e&&r.setRequestHeader("Authorization",cc.sys.localStorage.getItem("token")),r.timeout=this.timeOut,r.ontimeout=function(t){i.hideLoading(),i.showTips("网络超时"),s&&s()},r.onerror=function(){i.hideLoading(),i.showTips("网络错误"),s&&s()},r.send()},post:function(t,e,n,o,s){(a=this).api.host;var c=new XMLHttpRequest,a=this;"/question/qa"!=t&&i.showLoading(),c.onreadystatechange=function(){if(a.authVerify(c.responseText),4==c.readyState&&c.status>=200&&c.status<400){i.hideLoading();var t=JSON.parse(c.responseText);cc.log(t),o&&o(t)}};var r="";r="/sms/sendQaBindSms"==t?a.api.marketHost+a.api.market+t:a.api.host+a.api.api+t,c.open("POST",r,!0),c.setRequestHeader("Content-Type","application/json;charset=utf-8"),cc.sys.isNative&&c.setRequestHeader("Accept-Encoding","gzip,deflate"),e&&c.setRequestHeader("Authorization",cc.sys.localStorage.getItem("token")),c.timeout=this.timeOut,c.ontimeout=function(t){i.hideLoading(),i.showTips("网络超时"),s&&s()},c.onerror=function(){i.hideLoading(),i.showTips("网络错误"),s&&s()},c.send(JSON.stringify(n))},authVerify:function(t){t&&"401"==JSON.parse(t).code&&(i.hideLoading(),i.showConDia("身份验证过期请重新登录",function(){cc.director.loadScene("Guide"),cc.sys.localStorage.removeItem("token")},function(){}))},ws:function(t){function e(e,n,i,o,s){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n,i,o){ws=new WebSocket(t),ws.onopen=function(t){e&&e(t)},ws.onmessage=function(t){n&&n(t)},ws.onerror=function(t){i&&i(t)},ws.onclose=function(t){o&&o(t)}}),toUrlPar:function(t){var e="";for(var n in t)if(t[n]instanceof Array==1){e+="&"+n+"_count="+t[n].length;for(var i=0;i<t[n].length;i++)t[n][i]instanceof Array==1?e+=ergodicJson2(t[n][i]):t[n][i]instanceof Object==1?e+=ergodicJson2(t[n][i]):e+="&"+encodeURI(t[n][i])+"="+encodeURI(t[n][i])}else t[n]instanceof Object==1?e+=ergodicJson2(t[n]):e+="&"+encodeURI(n)+"="+encodeURI(t[n]);return e?e="?"+e.substring(1,e.length):""}};e.exports=o,cc._RF.pop()},{Util:"Util"}],PerNode:[function(t,e,n){"use strict";cc._RF.push(e,"1dc018ot0pLDIMJJFkW/Mrc","PerNode"),cc.Class({extends:cc.Component,properties:{conDia:{default:null,type:cc.Prefab},alertLayer:{default:null,type:cc.Prefab}},onLoad:function(){this.datas={quesResult:{},userInfo:{}}},onDestroy:function(){},showConDia:function(t,e,n){Global.conLayer&&Global.conLayer.name||(Global.conLayer=cc.instantiate(this.alertLayer)),Global.conLayer.parent=cc.find("Canvas"),Global.conLayer.active=!0;var i=cc.instantiate(this.conDia);i.parent=cc.find("Canvas"),i.getComponent("ConfirmDia").setBoxFun(t,e,n),i.getComponent("ConfirmDia").showThis()}}),cc._RF.pop()},{}],Request:[function(t,e,n){"use strict";cc._RF.push(e,"00f5dme/u5JV64eF7ASkKPq","Request");var i=t("Net"),o=function(){var t={};return t.getUserInfo=function(){return new Promise(function(t,e){i.get("/get/userInfo",1,null,function(n){n.success?t(n.obj):e(n)},function(t){e(!1)})})},t}();e.exports=o,cc._RF.pop()},{Net:"Net"}],StopPropagation:[function(t,e,n){"use strict";cc._RF.push(e,"54be1ul0LZFI4jiaJS30LCt","StopPropagation"),cc.Class({extends:cc.Component,properties:{touchTarget:{default:null,type:cc.Node}},onLoad:function(){this.touchTarget.on("touchstart",function(t){t.stopPropagation()},this)}}),cc._RF.pop()},{}],Util:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"17f52c/yZZHFbmCRoP0kI6c","Util");var o=function(t){var e=(t=t||function(){}).prototype;return e.getPerNode=function(t){return cc.director.getScene().getChildByName(t)},e.showLoading=function(){this.getPerNode("PerNode").getChildByName("ReqAni").active=!0,this.getPerNode("PerNode").getChildByName("ReqAni").getChildByName("Ani").getComponent(cc.Animation).play()},e.hideLoading=function(){this.getPerNode("PerNode").getChildByName("ReqAni").active=!1,this.getPerNode("PerNode").getChildByName("ReqAni").getChildByName("Ani").getComponent(cc.Animation).stop()},e.showTips=function(t){this.getPerNode("PerNode").getChildByName("LittleTip").getComponent("LittleTip").setContent(t)},e.showConDia=function(t,e,n){this.getPerNode("PerNode").getComponent("PerNode").showConDia(t,e,n)},e.verMobileReg=function(t){return/^(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$/.test(t)},e.verBankCard=function(t){return/^([1-9]{1})(\d{14}|\d{18})$/.test(t)},e.verUserName=function(t){return/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9])*$/.test(t)},e.verIdCard=function(t){return/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(t)},e.trim=function(t){return t.trim()},e.createUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.formatTimeForH5=function(t){var e=new Date(t).getFullYear(),n=new Date(t).getMonth()+1>=10?new Date(t).getMonth()+1:"0"+(new Date(t).getMonth()+1),i=new Date(t).getDate()>=10?new Date(t).getDate():"0"+new Date(t).getDate(),o=new Date(t).getHours(),s=new Date(t).getMinutes(),c=new Date(t).getSeconds();return[e+"-"+n+"-"+i,("0"==o?"00":o)+":"+("0"==s?"00":s)+":"+("0"==c?"00":c)]},e.compareDay=function(t){(new Date).getTime();var e=(new Date).getFullYear(),n=(new Date).getMonth()+1,i=(new Date).getDate(),o=new Date(t).getFullYear(),s=new Date(t).getMonth()+1,c=new Date(t).getDate();return e==o&&n==s&&i==c?"今天":e==o&&n==s&&i-1==c?"昨天":(s>10?s:"0"+s)+"-"+(c>10?c:"0"+c)},e.formatTime=function(){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},e.getDate=function(t){var e=this.compareDay(t),n=new Date(t).getHours(),i=new Date(t).getMinutes(),o=new Date(t).getSeconds();return{date:e,time:(n+1>10?n:"0"+n)+":"+(i+1>10?i:"0"+i)+":"+(o+1>10?o:"0"+o)}},e.getCountDown=function(t){var e=(t-(new Date).getTime())/1e3,n=Math.floor(e/3600/24),i=Math.floor((e-24*n*3600)/3600),o=Math.floor((e-24*n*3600-3600*i)/60),s=Math.floor(e-24*n*3600-3600*i-60*o);return i<=0&&(i=0),o<=0&&(o=0),s<=0&&(s=0),i+":"+o+":"+s},e.getRandInt=function(t,e){var n=e-t+1;return Math.floor(Math.random()*n+t)},e.getCurPlantDetail=function(t,e){for(var n=null,i=0;i<e.length;i++)if(e[i].id==t){n=e[i];break}return n},e.updateStatusByNextStatusTime=function(t,e,n){if(!((t=t||(new Date).getTime())>=(e=e||(new Date).getTime()))){var i=e-t+1e3;setTimeout(function(){n()},i)}},e.getNextStsTimeFromArr=function(t){var e=[];if(t.length>0)for(var n=0;n<t.length;n++)t[n].nextStsTime&&e.push(t[n].nextStsTime);return e},e.getAllThatThanParam=function(t,e){var e=e||[(new Date).getTime()],t=t||(new Date).getTime(),n=[];if(e.length>0){for(var i=0;i<e.length;i++)e[i]>t&&n.push(e[i]);return n.length<1?[(new Date).getTime()]:n}return[(new Date).getTime()]},e.getMinFromArr=function(t){return t.length>0?Math.min.apply(Math,i(t)):(new Date).getTime()},e.splitStr=function(t){return t.split("_")[1]},e.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null},e.iphoneXAdapter=function(t){if(cc.sys.isNative&&cc.sys.platform==cc.sys.IPHONE){var e=cc.view.getFrameSize();if(2436==e.width&&1125==e.height||1125==e.width&&2436==e.height){var n=t.node.getComponent(cc.Canvas);n.fitHeight=!0,n.fitWidth=!0}}},e.checkEquipment=function(){var t=window.navigator.userAgent.toLowerCase(),e=navigator.userAgent;return"micromessenger"==t.match(/MicroMessenger/i)?"WX":e.indexOf("Android")>-1||e.indexOf("Linux")>-1?"android":e.indexOf("iPhone")>-1?"ios":"other"},e.getPlatform=function(){return cc.sys.isNative&&cc.sys.platform==cc.sys.IPHONE?"IOS":cc.sys.isNative&&"Android"==cc.sys.os?"Android":cc.sys.isNative?void 0:"Browser"},e.setItem=function(t,e){return cc.sys.localStorage.setItem(t,e)},e.getItem=function(t){return cc.sys.localStorage.getItem(t)},e.removeItem=function(t){cc.sys.localStorage.removeItem(t)},new t}(o);e.exports=o,cc._RF.pop()},{}]},{},["Capture","Done","Game","GameUtil","BtnFeed","CloseWindow","ConfirmDia","Global","LittleTip","PerNode","Request","StopPropagation","Bind","Cash","Guide","Home","HomeUtil","Invite","LogIn","Net","Util"]);